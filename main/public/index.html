<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Coop</title>
  <!-- Add NES.css -->
  <link href="https://unpkg.com/nes.css@latest/css/nes.min.css" rel="stylesheet" />
  <!-- Add Press Start 2P font -->
  <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
  <script src="https://cdn.socket.io/4.5.0/socket.io.min.js"></script>
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/achievements.css">
  <link rel="stylesheet" href="css/prestige.css">
  <link rel="stylesheet" href="css/upgrades.css">
  <link rel="stylesheet" href="css/powerUps.css">
  <link rel="stylesheet" href="css/bonusStats.css">
  <link rel="stylesheet" href="css/background.css">
</head>
<body class="nes-container">
  <div class="animated-background"></div>
  <div class="top-bar">
    <div class="top-bar-content">
      <div class="title-section">
        <h1 class="top-bar-title">Coop 
          <button class="nes-btn" id="open-prestige">‚ö° Prest√≠gio</button>
          <button class="nes-btn" id="open-achievements">üèÜ Conquistas</button>
          <button class="nes-btn" id="open-bonus-stats">üìä Estat√≠sticas</button>
        </h1>
      </div>
      <div class="top-bar-buttons">
        <button class="nes-btn" id="theme-toggle">Modo Noturno</button>
        <button class="nes-btn" id="fullscreen-toggle">
          <span class="fullscreen-icon">‚õ∂</span>
        </button>
        <button class="nes-btn" id="mute-toggle">
          <span class="mute-icon">üîä</span>
        </button>
      </div>
    </div>
  </div>

  <div class="prestige-overlay" id="prestige-overlay">
    <div class="prestige-popup nes-container is-rounded">
      <div class="prestige-header">
        <h1 class="top-bar-title">Prest√≠gio</h1>
        <button class="close-prestige nes-btn" id="close-prestige">√ó</button>
      </div>
      <div class="prestige-content">
        <div class="prestige-info">
          <h2>Prest√≠gio</h2>
          <p>Reinicie seu progresso para ganhar fragmentos m√°gicos!</p>
          <p>Voc√™ receber√° <span id="potential-fragments">0</span> fragmentos ao prestigiar.</p>
          <p class="fragments">üîÆ <span id="fragments-count">0</span> Fragmentos</p>
          <button id="prestige-button" class="nes-btn is-primary">Prestigiar</button>
        </div>
        <div class="prestige-upgrades">
          <h2>Upgrades de Prest√≠gio</h2>
          <div id="prestige-upgrades-container"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="achievements-overlay" id="achievements-overlay">
    <div class="achievements-popup nes-container is-rounded">
      <div class="achievements-header">
        <h2>Conquistas</h2>
        <button class="close-achievements" id="close-achievements">√ó</button>
      </div>
      <div class="achievements-content" id="achievements-content">
        <div class="achievements-summary">
          <div id="achievements-stats"></div>
        </div>
        <div id="achievements-container"></div>
      </div>
    </div>
  </div>

  <div class="start-screen" id="start-screen">
    <div class="start-container">
      <h1>Bem-vindo ao  Coop!</h1>
      <p>Digite seu nome para come√ßar:</p>
      <input type="text" id="start-player-name" placeholder="Seu nome" class="player-input">
      <button id="start-game-button" class="nes-btn is-primary">Iniciar Jogo</button>
      <div id="start-error" class="error-message"></div>
    </div>
  </div>

  <div class="game-container" id="game-container" style="display: none; opacity: 0;">
    <div class="main-layout">
      <div class="left-column nes-container is-rounded">
        <section class="nes-container with-title">
          <h2 class="title">Upgrades</h2>
          <button id="show-history" class="nes-btn" title="Ver Hist√≥rico de Upgrades">
            <i class="nes-icon trophy is-small"></i>
          </button>
          <div id="upgrades-container"></div>
        </section>
      </div>
      <div class="center-column nes-container is-rounded">
        <section class="nes-container with-title">
          <h2 class="title">Jogadores</h2>
          <div class="player-list" id="player-list"></div>
        </section>
        <section class="nes-container with-title">
          <h2 class="title">Level: <span id="team-goal">1</span></h2>
          <div class="progress-container">
            <div class="team-shared-progress-bar" id="team-shared-progress-bar">
              <span class="progress-percentage" id="progress-percentage">100%</span>
            </div>
          </div>
          <div class="bonus-message" id="team-bonus-message">
            Trabalhem juntos para ganhar b√¥nus para toda a equipe!
          </div>
        </section>
        <section class="nes-container with-title is-dark">
          <h2 class="title">Estat√≠sticas</h2>
          <div class="stats">
            <div class="stat-box nes-container is-rounded"><h3>Jogador</h3><div id="active-player">-</div></div>
            <div class="stat-box nes-container is-rounded"><h3>N√≠vel</h3><div id="level">1</div></div>
            <div class="stat-box nes-container is-rounded"><h3>Cliques Totais (Toda Hist√≥ria)</h3><div id="clicks">0</div></div>
            <div class="stat-box nes-container is-rounded"><h3>Cliques/s</h3><div id="target">0</div></div>
            <div class="stat-box nes-container is-rounded"><h3>Moedas do Time</h3><div><span id="team-coins">0</span><span class="coin-icon"></span></div></div>
            <div class="stat-box nes-container is-rounded"><h3>Poder de Clique</h3><div id="click-power">1</div></div>
          </div>
        </section>
        <section class="nes-container with-title">
          <h2 class="title">Contribui√ß√£o dos Jogadores</h2>
          <div id="contribution-container"></div>
        </section>
        <section class="click-area nes-container is-rounded" id="click-area">
          Clique aqui ou pressione "P"!
        </section>
      </div>
    </div>
    <button class="nes-btn is-warning floating-powerup" id="activate-click-frenzy">Power Up!</button>
  </div>
  <div class="notification" id="notification"></div>
  <div class="powerup-notification" id="powerup-notification"></div>
  <div class="tooltip" id="tooltip"></div>

  <!-- Add Bonus Stats Overlay -->
  <div class="bonus-stats-overlay" id="bonus-stats-overlay">
    <div class="bonus-stats-popup nes-container is-rounded">
      <div class="bonus-stats-header">
        <h2>Estat√≠sticas de B√¥nus</h2>
        <button class="close-bonus-stats" id="close-bonus-stats">√ó</button>
      </div>
      <div class="bonus-stats-content" id="bonus-stats-content">
      </div>
    </div>
  </div>

  <!-- Add History Overlay -->
  <div class="history-overlay" id="history-overlay">
    <div class="history-popup nes-container is-rounded">
      <div class="history-header">
        <h2>Hist√≥rico de Upgrades</h2>
        <button class="close-history" id="close-history">√ó</button>
      </div>
      <div class="history-content">
        <div id="history-container"></div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'91ad33b6dabe12e7',t:'MTc0MTA0NzU2Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>